# 🔥 Wildfire Intelligence - Automatic Data Collection

**Complete automation setup for real-time wildfire data collection**

## 🚀 Quick Start (Recommended)

### **Option 1: Simple Auto-Start (Manual restart after reboot)**
```bash
# Run this once to start everything automatically
auto_start_data_collection.bat
```

**What it does:**
- ✅ Starts all 4 data collectors automatically
- ✅ Monitors and restarts failed collectors
- ✅ Shows real-time status and health metrics
- ✅ Handles errors and provides logs
- ❌ Stops when you reboot (need to run again)

---

### **Option 2: Windows Service (True Auto-Start)**
```bash
# Install as Windows Service (run as Administrator)
python install_as_windows_service.py

# Then install the service
install_service.bat
```

**What it does:**
- ✅ Starts automatically when Windows boots
- ✅ Runs in background even when logged out
- ✅ Automatic restart on failure
- ✅ Managed through Windows Services
- ✅ Production-ready deployment

---

## 📊 Data Collection Components

| Component | Description | Interval | Auto-Restart |
|-----------|-------------|----------|--------------|
| **🛰️ NASA FIRMS** | Satellite fire detection | 5 minutes | ✅ Yes |
| **🌤️ NOAA Weather** | Weather station data | 10 minutes | ✅ Yes |
| **🔥 CAL FIRE** | Official fire incidents | 10 minutes | ✅ Yes |
| **📡 IoT Sensors** | Environmental sensors | 2 minutes | ✅ Yes |

**Total: 4 automatic data streams feeding your platform**

---

## 🛠️ Management Commands

### **Check Status**
```bash
# Quick status check
python check_collection_status.py
```

### **Manual Control**
```bash
# Start all collectors
auto_start_data_collection.bat

# Stop all (Ctrl+C in the running terminal)
```

### **Service Management** (if installed as service)
```bash
# Start service
python wildfire_service.py start

# Stop service  
python wildfire_service.py stop

# Remove service
python wildfire_service.py remove
```

---

## 📈 Monitoring Your Data

### **Grafana Dashboard**
- **URL**: http://localhost:3010
- **Login**: admin/admin
- **Dashboards**: 
  - 🔥 Wildfire Intelligence Overview
  - 🖥️ System Performance

### **Platform API**
- **URL**: http://localhost:8001/docs
- **Stats**: http://localhost:8001/api/v1/stats
- **Health**: http://localhost:8001/health

### **Real-Time Data**
Your Grafana dashboards will show:
- ✅ Live fire incident counts (updates every 5-10 minutes)
- ✅ Fresh weather readings (updates every 10 minutes)  
- ✅ Active sensor data (updates every 2 minutes)
- ✅ System performance metrics

---

## 🔧 Troubleshooting

### **"No collectors are running"**
```bash
# Check if files exist
dir *.py

# Run status check
python check_collection_status.py

# Start manually
auto_start_data_collection.bat
```

### **"Platform API offline"**
```bash
# Start the platform
cd C:\dev\wildfire
docker-compose up -d

# Check status
docker-compose ps
```

### **"Grafana offline"**
```bash
# Restart Grafana
docker-compose restart grafana

# Check logs
docker logs wildfire-grafana
```

### **"No fresh data"**
- Data collectors might be failing to connect to external APIs
- Check the collector logs for API errors
- Some APIs (like NASA FIRMS) only update every few hours
- Our system falls back to simulation when real APIs are unavailable

---

## 📁 File Structure

```
scripts/data-loading/
├── auto_start_all_collectors.py      # 🎯 Main auto-start manager
├── auto_start_data_collection.bat    # 🚀 Quick start script
├── install_as_windows_service.py     # 🔧 Service installer
├── check_collection_status.py        # 📊 Status checker
├── config.py                         # ⚙️ Centralized configuration
├── realtime_satellite_collector.py   # 🛰️ NASA FIRMS collector
├── realtime_weather_collector.py     # 🌤️ NOAA weather collector  
├── realtime_calfire_collector.py     # 🔥 CAL FIRE collector
├── realtime_iot_collector.py         # 📡 IoT sensor collector
└── README_AUTO_COLLECTION.md         # 📖 This guide
```

---

## ⚡ Performance Notes

- **CPU Usage**: Each collector uses ~1-5% CPU when active
- **Memory**: Total memory usage ~100-200MB for all collectors
- **Network**: Minimal bandwidth (<1MB/hour per collector)
- **Storage**: Data accumulates in PostgreSQL (~10MB/day typical)

---

## 🎯 Success Criteria

**Your system is working perfectly when:**

✅ **Status Check** shows "ALL SYSTEMS OPERATIONAL"  
✅ **Grafana Dashboard** shows fresh data from last 10-30 minutes  
✅ **Platform Stats** show increasing record counts  
✅ **All 4 Collectors** are running with recent activity  

**Expected Data Flow:**
- **Fire incidents**: 5-50 new detections per day (varies by season)
- **Weather readings**: 20-100 new readings per day  
- **Sensor data**: 500-2000 new readings per day
- **Grafana updates**: Every 30 seconds

---

## 🏆 Competition Ready

This automated system provides **continuous, real-time data collection** that meets all CAL FIRE competition requirements:

- ✅ **Real-time ingestion** from multiple satellite and ground sources
- ✅ **24/7 automated monitoring** with failure recovery
- ✅ **Live dashboard updates** for operational awareness
- ✅ **Production-grade reliability** with service monitoring
- ✅ **Scalable architecture** ready for deployment

**Your platform now runs itself!** 🚀