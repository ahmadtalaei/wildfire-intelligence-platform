# FireSat Data Ingestion Configuration
# Copy this file to .env and fill in your actual values

# =====================================================
# FireSat API Configuration
# =====================================================

# FireSat API Key (obtain from Earth Fire Alliance Early Adopter Program)
# Apply at: https://www.earthfirealliance.org/firesat-early-adopters
FIRESAT_API_KEY=your_firesat_api_key_here

# FireSat API Base URL
# Production: https://api.firesat.earthfirealliance.org/v1
# Staging: https://api-staging.firesat.earthfirealliance.org/v1
FIRESAT_API_URL=https://api.firesat.earthfirealliance.org/v1

# Mock Mode (set to 'true' for development without API access)
# When enabled, generates realistic simulated data
FIRESAT_MOCK_MODE=false

# =====================================================
# FireSat+ NOS Testbed Configuration (Optional)
# =====================================================

# NOS Testbed URL for simulation
# Local: http://localhost:8080/firesat
# Remote: https://testbed.firesat.earthfirealliance.org
FIRESAT_TESTBED_URL=http://localhost:8080/firesat

# Enable NOS Testbed integration
FIRESAT_USE_TESTBED=false

# =====================================================
# Data Ingestion Settings
# =====================================================

# Batch ingestion interval (hours)
FIRESAT_BATCH_INTERVAL_HOURS=6

# Streaming polling interval (seconds)
FIRESAT_STREAMING_INTERVAL_SECONDS=60

# Maximum records per batch request
FIRESAT_MAX_BATCH_SIZE=10000

# Request timeout (seconds)
FIRESAT_REQUEST_TIMEOUT=30

# Retry attempts for failed requests
FIRESAT_MAX_RETRIES=3

# Retry backoff multiplier (exponential backoff)
FIRESAT_RETRY_BACKOFF=2

# =====================================================
# Geographic Filtering (California Bounds)
# =====================================================

# California geographic bounds (EPSG:4326)
FIRESAT_LAT_MIN=32.534156
FIRESAT_LAT_MAX=42.009518
FIRESAT_LON_MIN=-124.482003
FIRESAT_LON_MAX=-114.131211

# =====================================================
# Data Quality Settings
# =====================================================

# Minimum confidence score to accept (0.0 to 1.0)
FIRESAT_MIN_CONFIDENCE=0.7

# Minimum data quality score to accept (0.0 to 1.0)
FIRESAT_MIN_DATA_QUALITY=0.6

# Enable anomaly detection
FIRESAT_ENABLE_ANOMALY_DETECTION=true

# Maximum acceptable Fire Radiative Power (MW)
FIRESAT_MAX_FRP=10000

# Maximum acceptable brightness temperature (Kelvin)
FIRESAT_MAX_BRIGHTNESS=1000

# =====================================================
# Storage Configuration
# =====================================================

# S3 bucket for thermal imagery storage
FIRESAT_S3_BUCKET=wildfire-firesat-thermal

# S3 region
FIRESAT_S3_REGION=us-west-2

# Local cache directory for downloaded imagery
FIRESAT_CACHE_DIR=/tmp/firesat_cache

# =====================================================
# Kafka Configuration
# =====================================================

# Kafka topics for FireSat data streams
FIRESAT_KAFKA_TOPIC_DETECTIONS=firesat.detections
FIRESAT_KAFKA_TOPIC_PERIMETERS=firesat.perimeters
FIRESAT_KAFKA_TOPIC_THERMAL=firesat.thermal

# Kafka consumer group
FIRESAT_KAFKA_CONSUMER_GROUP=firesat-ingestion-service

# =====================================================
# Monitoring & Alerting
# =====================================================

# Enable detailed logging
FIRESAT_DEBUG_LOGGING=false

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
FIRESAT_LOG_LEVEL=INFO

# Alert email for ingestion failures
FIRESAT_ALERT_EMAIL=ops@example.com

# Alert threshold - minimum records expected per hour
FIRESAT_ALERT_MIN_RECORDS_PER_HOUR=10

# Alert threshold - maximum ingestion latency (seconds)
FIRESAT_ALERT_MAX_LATENCY_SECONDS=300

# =====================================================
# Database Configuration
# =====================================================

# PostgreSQL/TimescaleDB connection (shared with main platform)
# DATABASE_URL should be set in main .env file
# Format: postgresql://user:password@host:port/database

# =====================================================
# Rate Limiting
# =====================================================

# Maximum API requests per minute
FIRESAT_MAX_REQUESTS_PER_MINUTE=60

# Maximum concurrent requests
FIRESAT_MAX_CONCURRENT_REQUESTS=5

# =====================================================
# Advanced Settings
# =====================================================

# Enable historical data backfill
FIRESAT_ENABLE_BACKFILL=false

# Backfill start date (YYYY-MM-DD)
FIRESAT_BACKFILL_START_DATE=2025-03-14

# Enable continuous aggregates refresh
FIRESAT_ENABLE_CONTINUOUS_AGGREGATES=true

# Satellite IDs to monitor (comma-separated, empty = all)
# Example: FIRESAT-01,FIRESAT-02,FIRESAT-03
FIRESAT_SATELLITE_FILTER=

# AI model version filter (empty = all versions)
FIRESAT_MODEL_VERSION_FILTER=
